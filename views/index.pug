doctype html
html(lang="en")
	head
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")
		link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css' integrity='sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm' crossorigin='anonymous')

		link(rel="stylesheet", href="/css/style.css")
		title Node Mongo Upload
	body
		.container
			.row
				.col-md-12.m-auto
					h1.text-center.display-4.my-4 Mongo Gridfs Sample
					form(action='/upload' method='POST' enctype='multipart/form-data')
						.custom-file.mb-3
							input#file.custom-file-input(type='file' name='file')
							label.custom-file-label(for='file') Choose File
						input.btn.btn-primary.btn-block(type='submit' value='Submit')
					hr
					if files
						.row
							each file in files
								.col-md-6
									.card.card-body.mb-3
										if file.isImage
											img(src="image/"+ file.filename, alt="", srcset="")
										else
											file.filename
										form(method="post", action="/files/"+file._id+"?_method=DELETE")
											button.btn.btn-danger.btn-block.mt-4 Delete
					else
						p No uploaded files
		script(src='https://code.jquery.com/jquery-3.2.1.slim.min.js' integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN' crossorigin='anonymous')
		script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js' integrity='sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q' crossorigin='anonymous')
		script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js' integrity='sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl' crossorigin='anonymous')
		script(src="/js/site.js", type="text/javascript")
